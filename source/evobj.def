//**********************************************************************
//		evobj.def
//**********************************************************************
#ifndef	EVOBJ_DEF
#define	EVOBJ_DEF

#include "common.h"
#include "actor.h"
#include "actanm.h"
#include "fld_eff.h"
#include "evobjsv.def"
#include "evobjdef.h"

//------------------------------------------
//	ײè
//------------------------------------------
enum										// 
{
	EVOBJ_HI_ACTPRI = 82,					// 82 

	EVOBJ_ACTPRI0 = 83,						// 83
	EVOBJ_ACTPRI1 = 115,					// 115

	// 83 ~ 147 ̨OBJ 

	EVOBJ_LOW_ACTPRI0 = 148,				// 148 eȂ
	EVOBJ_LOW_ACTPRI1,						// 149 ՂȂ
	EVOBJ_LOW_ACTPRI2,						// 150 g߹݂Ȃ
	EVOBJ_LOW_ACTPRI3,						// 151 gȂ

	EVOBJ_BELONG_ACTPRI,					// 152 f荞݂Ȃ
};

enum										// BG ײè
{
	BGPRI0 = 0,								// 0
	BGPRI1,									// 1
	BGPRI2,									// 2
	BGPRI3,									// 3
};

//------------------------------------------
//	
//------------------------------------------
enum
{
	EV_M_OFF = 0,							// 0	얳
	EV_M_ON,								// 1	쒆
	EV_M_END,								// 2	I(ړ)
};

enum
{
	EV_M_STOP = 0,							// 0	~
	EV_M_TURN,								// 1	U
	EV_M_WALK,								// 2	
};

//------------------------------------------
//@@ޯ׸
//------------------------------------------
#define	MY_MV_BIT_NORMAL	0x01			// 1	k
#define	MY_MV_BIT_CYCLE_R	0x02			// 2	ڰ ]
#define	MY_MV_BIT_CYCLE_S	0x04			// 3	߰ ]
#define	MY_MV_BIT_SWIM		0x08			// 4	C
#define MY_MV_BIT_DIVING	0x10			// 5	޲ݸ
#define	MY_MV_BIT_UNDER		0x20			// 6	
#define	MY_MV_BIT_FORCE		0x40			// 7	ړ
#define MY_MV_BIT_B_DASH	0x80			// 8	B DASH
#define	MY_MV_BIT_AND		0xe0			// ޯ
#define	MY_MV_BIT_CYCLE_AND	(MY_MV_BIT_CYCLE_R|MY_MV_BIT_CYCLE_S)
#define MY_MV_BIT_SWIM_AND	(MY_MV_BIT_SWIM|MY_MV_BIT_DIVING)

//------------------------------------------
//	SXY OBJ ް OBJ ĺ
//------------------------------------------
enum
{
	OTYPE_NORMAL = 0,						// 0	ʏ
	OTYPE_TRAINER,							// 1	ڰŰ
	OTYPE_ITEM,								// 2	
	OTYPE_TRAINER_EYEALL,					// 3	ڰŰS
};

//------------------------------------------
//	OBJ گNo Ǘ
//------------------------------------------
enum
{
	MINE_OBJ_PALNO = 0,						// 0	@
	MINE_REF_OBJ_PALNO,						// 1	@f荞
	OTHERS_OBJ_PALNO_0,						// 2	̨OBJ				8
	OTHERS_OBJ_PALNO_1,						// 3		;;					9
	OTHERS_OBJ_PALNO_2,						// 4		;;					a
	OTHERS_OBJ_PALNO_3,						// 5		;;					b
	OTHERS_REF_OBJ_PALNO_0,					// 6	̨OBJf荞		c
	OTHERS_REF_OBJ_PALNO_1,					// 7		;;					d
	OTHERS_REF_OBJ_PALNO_2,					// 8		;;					e
	OTHERS_REF_OBJ_PALNO_3,					// 9		;;					f
	SP_OBJ_PALNO,							// 10	̨OBJ
	SP_REF_OBJ_PALNO,						// 11	̨OBJ
	EFF_OBJ_PALNO_0,						// 12	̪OBJ
	EFF_OBJ_PALNO_1,						// 13	̪OBJ
	WETHER_OBJ_PALNO_0,						// 14	VOBJ
	WETHER_OBJ_PALNO_1,						// 15	VOBJ
};
											// OBJ گȰެ ǗJnʒu
#define	EVOBJ_PALMAN_START_NO	EFF_OBJ_PALNO_0

//------------------------------------------
//	 캰
//------------------------------------------
enum
{
	EVACT_MV_1 = 0,							// 1dot ړ
	EVACT_MV_2,
	EVACT_MV_3,
	EVACT_MV_4,
	EVACT_MV_8,
};

enum
{
	EVACT_MV_STAY_JUMP = 0,					// ̏ެ
	EVACT_MV_JUMP_1,						// 1ټެ
	EVACT_MV_JUMP_2,						// 2ټެ
};

enum
{
	EVACT_MV_JUMP_V_12 = 0,					// ެ 12
	EVACT_MV_JUMP_V_6,						// 6
	EVACT_MV_JUMP_V_8						// 8
};

//------------------------------------------
//	OBJ ˯
//------------------------------------------
enum										// S
{
	EVOBJHIT_NOTHING = 0,					// ˯Ė
	EVOBJHIT_LIMIT,							// ړ˯
	EVOBJHIT_ATR,							// ޭ˯
	EVOBJHIT_HEIGHT,						// ፷˯
	EVOBJHIT_OBJ,							// OBJ˯
};

enum										// @
{
	HEROHIT_SWIM = EVOBJHIT_OBJ+1,			// g˯
	HEROHIT_JUMP,							// ެ˯
	HEROHIT_KAIRIKI,						// ˯
	HEROHIT_DOOR,							// ޱ˯
	HEROHIT_JSTONE,							// ѐ
	HEROHIT_VBOARD,							// c
	HEROHIT_HBOARD,							// 
	HEROHIT_VBRIDGE,						// c{
	HEROHIT_HBRIDGE,						// {
};

#define HEROHIT_START HEROHIT_SWIM			// ˯Ď
#define HEROHIT_CYCLE_START HEROHIT_JSTONE	// ˯Ď]Ԏ

//------------------------------------------
//	޺
//------------------------------------------
#define	ACMD_CODE	const u8 				// ޺ް^

enum
{
	ACMD_MODE_OFF = 0,						// ~
	ACMD_MODE_SITE,							// ϊ
	ACMD_MODE_WALK_1,						// 1ޯĈړ
	ACMD_MODE_WALK_2,						// 2ޯĈړ
	ACMD_MODE_WALK_4,						// 2ޯĈړ
	ACMD_MODE_WALK_8,						// 2ޯĈړ
	ACMD_MODE_STAY_JUMP,					// ̏ެ
	ACMD_MODE_JUMP_1,						// 1ټެ߈ړ
	ACMD_MODE_JUMP_2,						// 2ټެ߈ړ
	ACMD_MODE_SW,							// ׸ޑ
	ACMD_MODE_SP,							// ꑀ
};

//------------------------------------------
//	l OBJ ގ
//------------------------------------------
enum
{
	H_NORMAL = 0,							// 
	H_CYCLER,								// ]R
	H_CYCLES,								// ]S
	H_SWIM,									// g
	H_DIV,									// ޲ݸ
	H_HIDEN,								// `Z
	H_FISHING,								// ނ
	H_JORRO,								// @JI
};

//------------------------------------------
//	SXY OBJ ͯ
//------------------------------------------
typedef	struct
{
	const u16	cellNo;						// 
	const u16	palNo;						// گ
	const u16	sp_reflect_palNo;			// f肱گ
	const u16	celltrans_size;				//  ]ő廲

	const s16	x_size;						// X 
	const s16	y_size;						// Y 

	const u8	oampalNo:4;					// OAMگ
	const u8	shade:2;					// e
	const u8	anm_change_sw:1;			// ̫ݼ޽
	const u8	reflect_change_sw:1;		// f荞ݑ
	const u8	footprint;					// Վ
#if 0										// ܰݸޖ̈׊O
	const u8	:8;
	const u8	:8;
#endif

	const ActOamData *oamData_p;			// OAM
	const OAMPatSt *oamPat;					// OAM߯
	const actAnm * const *anmData_p;		// 
	const actAnmData *anmTrans_p;			// ݽ
	const actAffAnm	* const *affData_p;		// gk
}SXYObjHead;

//------------------------------------------
//@Ǘ	
//------------------------------------------
typedef struct
{
	u8	flag;								// ׸
	u8	req_flag;							// ظ׸
	u8	mv_val;								// ړ
	u8	mv_state;							// 
	u8	actno;								// ܰ
	u8	evobjno;							// OBJ ܰ
	u8	mv_pause;							// ͒~
	u8	sex;								// 

	u8	work0;								// ܰ
	u8  work1;								// ܰ
	u8	cycle_speed;						// x
	u8	cycle_brake;						// 

	u32	command;							// ފi[
	u32 button;								// ݊i[
	u8	command_count[8];					// ޶
	u8	button_count[8];					// ݶ
}MvCmd;

#define MvCmd_SIZE (sizeof(MvCmd))

//------------------------------------------
//	W
//------------------------------------------
typedef struct
{
	s16	x;									// x
	s16	y;									// y
}POINT;

//------------------------------------------
//	ID Ǘ
//------------------------------------------
typedef struct
{
	const u16	id;							// Ҳ ID
	const u16	*com_id;					// K ID
}STDATA;

//------------------------------------------
//	ޯ
//------------------------------------------
#define LONGGRASS_DEBUG 1					// ޯ

#endif										// EVOBJ_DEF

